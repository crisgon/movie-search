webpackJsonp([1],{"4bNS":function(e,t){},Btwf:function(e,t){},Koki:function(e,t){},KspZ:function(e,t){},MjEf:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("Dd8w"),a=n.n(s),r=n("NYxO"),o={name:"App",mounted:function(){this.fetchGenres()},methods:a()({},Object(r.b)(["fetchGenres"]))},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("header",{staticClass:"main-header"},[t("router-link",{directives:[{name:"show",rawName:"v-show",value:"/"!=this.$route.path,expression:"$route.path != '/'"}],staticClass:"back",attrs:{to:"/"}},[this._v("\n      «  Back\n    ")]),this._v(" "),t("h1",{staticClass:"main-header-title"},[this._v("Movies")])],1),this._v(" "),t("transition",{attrs:{name:"fade"}},[t("router-view")],1)],1)},staticRenderFns:[]};var u=n("VU/8")(o,c,!1,function(e){n("MjEf")},null,null).exports,v=n("/ocq"),l=n("Xxa5"),m=n.n(l),f=n("exGp"),h=n.n(f),p=n("mtWM"),d=n.n(p),g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"generos"},e._l(e.generos,function(t){return n("li",{key:t,domProps:{textContent:e._s(t)}})}))},staticRenderFns:[]};var _=n("VU/8")({props:["generos"]},g,!1,function(e){n("ihFh")},"data-v-6471beee",null).exports,w=function(e){return e.split("-").reverse().join("/")},M={components:{Generos:_},props:["movie"],data:function(){return{baseIMG:"https://image.tmdb.org/t/p/w200",generos:[]}},mounted:function(){var e=this;this.generos=this.movie.genre_ids.map(function(t){return e.genres[t]})},computed:a()({},Object(r.c)({genres:"getGenres"}),{poster:function(){return this.movie.poster_path?this.baseIMG+this.movie.poster_path:"https://i.imgur.com/aki4knv.jpg"}}),methods:{formatDate:w}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{attrs:{to:"/movie"}},[n("div",{staticClass:"movie animate"},[n("img",{attrs:{src:e.poster,alt:e.movie.original_title}}),e._v(" "),n("div",{staticClass:"movie-info"},[n("div",{staticClass:"movie-header"},[n("h2",{staticClass:"movie-header-title"},[e._v(e._s(e.movie.original_title))]),e._v(" "),n("span",{staticClass:"movie-header-date"},[e._v("\n            "+e._s(e.formatDate(e.movie.release_date))+"\n          ")]),e._v(" "),n("span",{staticClass:"movie-header-average"},[e._v(e._s(e.movie.vote_average))])]),e._v(" "),n("p",{staticClass:"movie-overview"},[e._v(e._s(e.movie.overview))]),e._v(" "),n("Generos",{attrs:{generos:e.generos}})],1)])])},staticRenderFns:[]};var C={render:function(){var e=this.$createElement;return(this._self._c||e)("input",{staticClass:"search",attrs:{type:"text",placeholder:this.placeholder}})},staticRenderFns:[]};var k={components:{CardMovie:n("VU/8")(M,b,!1,function(e){n("Btwf")},"data-v-115cee32",null).exports,InputSearch:n("VU/8")({props:["placeholder"]},C,!1,function(e){n("4bNS")},"data-v-02c222c5",null).exports},data:function(){return{message:"Nothing yet...",pages:0,currentPage:1,moviesPerPage:5,start:0,end:5,movies:[]}},computed:a()({},Object(r.c)(["getMovies"])),methods:a()({},Object(r.b)(["fetchMovies","fetchMovieInfo","fetchMovieTrailer"]),{fetchAllMovies:function(e){var t=this;return h()(m.a.mark(function n(){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchMovies(e);case 2:t.numberOfPages(),t.movies=t.getMovies;case 4:case"end":return n.stop()}},n,t)}))()},fetchAllMovieInfo:function(e){this.fetchMovieInfo(e),this.fetchMovieTrailer(e)},paginate:function(e){1==e?(this.start=0,this.end=this.moviesPerPage):(this.start=this.moviesPerPage*(this.currentPage-1),this.end=this.start+this.moviesPerPage)},numberOfPages:function(){this.movies.length<5||(this.pages=Math.round(this.movies.length/5))},changePage:function(e){this.currentPage=e,this.paginate(e),window.scrollTo({top:0,behavior:"smooth"})}})},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-movies"},[n("input-search",{attrs:{placeholder:"Busque um filme por nome, ano ou gênero..."},nativeOn:{input:function(t){e.fetchAllMovies(t.target.value)}}}),e._v(" "),e.movies.length?n("div",[e._l(e.movies.slice(e.start,e.end),function(t,i){return n("card-movie",{key:i,attrs:{movie:t},nativeOn:{click:function(n){e.fetchAllMovieInfo(t.id)}}})}),e._v(" "),n("ul",{staticClass:"paginate"},e._l(e.pages,function(t){return n("li",{directives:[{name:"show",rawName:"v-show",value:e.movies.length>4,expression:"movies.length > 4"}],key:t,class:{"circle active":t==e.currentPage},on:{click:function(n){e.changePage(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])}))],2):n("h3",[e._v(e._s(e.message))])],1)},staticRenderFns:[]};var E=n("VU/8")(k,x,!1,function(e){n("KspZ")},"data-v-7a4529eb",null).exports,I={components:{Generos:_},data:function(){return{baseIMG:"https://image.tmdb.org/t/p/w300",informations:[{name:"Situation",value:"situation"},{name:"Languages",value:"language"},{name:"Runtime",value:"runtime"},{name:"Budget",value:"budget"},{name:"Revenue",value:"revenue"}]}},computed:a()({},Object(r.c)({movie:"getMovieInfo",trailer:"getMovieTrailer"}),{poster:function(){return this.movie.poster?this.baseIMG+this.movie.poster:"https://i.imgur.com/aki4knv.jpg"}})},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"movie"},[n("div",{staticClass:"movie-header"},[n("h2",{staticClass:"movie-header-title"},[e._v(e._s(e.movie.title))]),e._v(" "),n("span",{staticClass:"movie-header-date"},[e._v("\n        "+e._s(e.movie.date)+"\n      ")])]),e._v(" "),n("div",{staticClass:"movie-info"},[n("img",{attrs:{src:e.poster,alt:e.movie.title}}),e._v(" "),n("div",{staticClass:"movie-info-container"},[n("h3",{staticClass:"subtitle"},[e._v("Overview")]),e._v(" "),n("p",{staticClass:"overview"},[e._v(e._s(e.movie.resume))]),e._v(" "),n("h3",{staticClass:"subtitle"},[e._v("Informations")]),e._v(" "),n("ul",{staticClass:"movie-informations"},e._l(e.informations,function(t,i){return n("li",{key:i,staticClass:"info-item"},[n("span",{staticClass:"info-label",domProps:{textContent:e._s(t.name)}}),e._v(" "),n("span",{domProps:{textContent:e._s(e.movie[t.value])}})])})),e._v(" "),n("Generos",{attrs:{generos:e.movie.genres}}),e._v(" "),n("span",{staticClass:"movie-average"},[e._v(e._s(e.movie.average))])],1)])]),e._v(" "),n("div",{staticClass:"trailer"},[n("iframe",{attrs:{src:e.trailer,frameborder:"0",allowfullscreen:""}})])])},staticRenderFns:[]};var P=n("VU/8")(I,G,!1,function(e){n("Koki")},"data-v-4fa1ce3c",null).exports;i.a.use(v.a);var T,y,O,R,j=new v.a({routes:[{path:"/",name:"ListOfMovies",component:E},{path:"/movie",name:"MovieInfo",component:P}]}),F=function(e){return"$ "+e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},N=function(e){return(e/60).toFixed(2).replace(".","h ")+"min"},S=function(e){var t=e.length>1?", ":"";return e.map(function(e){return e.name}).join(t)},V=this,$="https://api.themoviedb.org/3",A="49f1408846dc94952c1eb7d80803a136&",U=this,B={Movies:{namespaced:!1,state:{movies:[],movieInfo:{},movieTrailer:{},genres:{}},mutations:{GET_MOVIES:(R=h()(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get($+"/search/movie?api_key="+A+"language=en-US&query="+n+"&include_adult=false").then(function(e){return e.data.results}).catch(function(e){return console.log(e),[]});case 2:t.movies=e.sent;case 3:case"end":return e.stop()}},e,V)})),function(e,t){return R.apply(this,arguments)}),GET_MOVIE_INFO:(O=h()(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get($+"/movie/"+n+"?api_key="+A).then(function(e){var n=e.data;return{id:e.data.id,title:n.original_title,date:w(n.release_date),poster:n.poster_path,resume:n.overview,situation:n.status,language:S(n.spoken_languages),runtime:N(n.runtime),budget:F(n.budget),revenue:F(n.revenue),average:n.vote_average,genres:n.genres.map(function(e){return t.genres[e.id]})}}).catch(function(e){return console.log(e)});case 2:t.movieInfo=e.sent;case 3:case"end":return e.stop()}},e,V)})),function(e,t){return O.apply(this,arguments)}),GET_TRAILER:(y=h()(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get($+"/movie/"+n+"/videos?api_key="+A).then(function(e){return"https://www.youtube.com/embed/"+e.data.results[0].key}).catch(function(e){return console.log(e)});case 2:t.movieTrailer=e.sent;case 3:case"end":return e.stop()}},e,V)})),function(e,t){return y.apply(this,arguments)}),GET_GENRES:(T=h()(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key="+A).then(function(e){return e.data.genres}).catch(function(e){return console.log(e)});case 2:e.sent.map(function(e){return t.genres[e.id]=e.name});case 4:case"end":return e.stop()}},e,V)})),function(e){return T.apply(this,arguments)})},actions:{fetchMovies:function(e,t){e.commit("GET_MOVIES",t)},fetchMovieInfo:function(){var e=h()(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.commit("GET_MOVIE_INFO",n);case 2:case"end":return e.stop()}},e,U)}));return function(t,n){return e.apply(this,arguments)}}(),fetchMovieTrailer:function(e,t){e.commit("GET_TRAILER",t)},fetchGenres:function(e){e.commit("GET_GENRES")}},getters:{getMovies:function(e){return e.movies},getMovieInfo:function(e){return e.movieInfo},getMovieTrailer:function(e){return e.movieTrailer},getGenres:function(e){return e.genres}}}};i.a.use(r.a);var K=new r.a.Store({modules:B});i.a.config.productionTip=!1,new i.a({el:"#app",router:j,store:K,components:{App:u},template:"<App/>"})},ihFh:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ff57d105597bbe0678ab.js.map